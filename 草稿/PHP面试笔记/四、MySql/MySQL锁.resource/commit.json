{"compress":true,"commitItems":[["34502172-2637-4f08-bfb2-74b8bac776b2",1525959243801,"",[[1525959193687,["fangle@fangle-PC",[[1,0,"MySQL锁\n===\n\n\n"]],[0,0],[13,13]]],[1525959239800,["fangle@fangle-PC",[[1,13,"\n\n"]],[13,13],[14,14]]],[1525959240611,["fangle@fangle-PC",[[-1,14,"\n"],[1,15,"》"]],[14,14],[15,15]]],[1525959241048,["fangle@fangle-PC",[[-1,14,"》"]],[15,15],[14,14]]],[1525959241219,["fangle@fangle-PC",[[-1,13,"\n"]],[14,14],[13,13]]],[1525959243741,["fangle@fangle-PC",[[-1,12,"\n"],[1,13,"> in"]],[13,13],[16,16]]],[1525959248853,["fangle@fangle-PC",[[1,17,"odbcu"]],[17,17],[22,22]]],[1525959249415,["fangle@fangle-PC",[[-1,20,"cu"]],[22,22],[20,20]]],[1525959289593,["fangle@fangle-PC",[[1,20,"存储引擎不需要锁升级，因为一个锁和多个锁的开销是相同的。"]],[20,20],[48,48]]],[1525959363809,[null,[[1,16,"n"],[-1,19,"c"]],[16,16],[19,19]]],[1525959363809,[null,[[-1,16,"n"],[1,20,"c"]],[19,19],[16,16]]],[1525959357782,["fangle@fangle-PC",[[1,48,"\n\n"]],[48,48],[49,49]]],[1525959358165,["fangle@fangle-PC",[[1,50,"\n"]],[49,49],[50,50]]],[1525959360496,["fangle@fangle-PC",[[-1,50,"\n"],[1,51,"锁机制"]],[50,50],[53,53]]],[1525959423806,[null,[[1,16,"n"],[-1,19,"c"]],[16,16],[19,19]]],[1525959423806,[null,[[-1,16,"n"],[1,20,"c"]],[19,19],[16,16]]],[1525959366302,["fangle@fangle-PC",[[1,6,"机制"]],[6,6],[8,8]]],[1525959393858,["fangle@fangle-PC",[[1,55,"用于管理对共享资源的并发访问。"]],[55,55],[70,70]]],[1525959397726,["fangle@fangle-PC",[[1,70,"\n\n"]],[70,70],[71,71]]],[1525959398236,["fangle@fangle-PC",[[1,72,"\n"]],[71,71],[72,72]]],[1525959483810,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525959483810,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525959472696,["fangle@fangle-PC",[[1,70,"数据库系统使用锁是为了支持对共享资源进行并发访问，提供数据的网站"]],[70,70],[102,102]]],[1525959473423,["fangle@fangle-PC",[[-1,100,"网站"]],[102,102],[100,100]]],[1525959483234,["fangle@fangle-PC",[[1,100,"完整性和一直"]],[100,100],[106,106]]],[1525959483656,["fangle@fangle-PC",[[-1,105,"直"]],[106,106],[105,105]]],[1525959543812,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525959543812,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525959486805,["fangle@fangle-PC",[[1,105,"致性。"]],[105,105],[108,108]]],[1525959487665,["fangle@fangle-PC",[[1,111,"\n"]],[108,108],[109,109]]],[1525959488115,["fangle@fangle-PC",[[1,112,"\n"]],[109,109],[110,110]]],[1525959528472,["fangle@fangle-PC",[[1,110,"Myisam"]],[110,110],[116,116]]],[1525959603815,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525959603815,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525959580941,["fangle@fangle-PC",[[1,116,"，"]],[116,116],[117,117]]],[1525959581726,["fangle@fangle-PC",[[-1,116,"，"]],[117,117],[116,116]]],[1525959585441,["fangle@fangle-PC",[[1,110,"对于"]],[110,110],[112,112]]],[1525959602550,["fangle@fangle-PC",[[1,118,"引擎来说，其锁是表锁并发"]],[118,118],[130,130]]],[1525959663816,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525959663816,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525959609213,["fangle@fangle-PC",[[1,130,"情况下的都"]],[130,130],[135,135]]],[1525959609608,["fangle@fangle-PC",[[-1,134,"都"]],[135,135],[134,134]]],[1525959622133,["fangle@fangle-PC",[[1,134,"读没有问题，但是并发插入是"]],[134,134],[147,147]]],[1525959622568,["fangle@fangle-PC",[[-1,146,"是"]],[147,147],[146,146]]],[1525959632497,["fangle@fangle-PC",[[1,146,"时的性能就要差一些。"]],[146,146],[156,156]]],[1525959659737,["fangle@fangle-PC",[[1,159,"\n"]],[156,156],[157,157]]],[1525959723818,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525959723818,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525959666568,["fangle@fangle-PC",[[1,157,"Innodb的"]],[157,157],[164,164]]],[1525959677686,["fangle@fangle-PC",[[-1,163,"的"]],[164,164],[163,163]]],[1525959715268,["fangle@fangle-PC",[[1,163,"提供一致性的非锁定读，行级锁支持"]],[163,163],[179,179]]],[1525959783819,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525959783819,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525959772930,["fangle@fangle-PC",[[1,179,"，行级锁没有相关的![](file:///C:\\Users\\fangle\\AppData\\Local\\Temp\\SGPicFaceTpBq\\6280\\0285771F.png)"]],[179,179],[267,267]]],[1525959775485,["fangle@fangle-PC",[[-1,163,"提供一致性的非锁定读，行级锁支持，行级锁没有相关的![](file:///C:\\Users\\fangle\\AppData\\Local\\Temp\\SGPicFaceTpBq\\6280\\0285771F.png)"]],[267,267],[163,163]]],[1525959778634,["fangle@fangle-PC",[[1,163,"的"]],[163,163],[164,164]]],[1525959779146,["fangle@fangle-PC",[[-1,157,"Innodb的"]],[164,164],[157,157]]],[1525959781792,["fangle@fangle-PC",[[-1,159,"\n"]],[157,157],[156,156]]],[1525959783611,["fangle@fangle-PC",[[1,159,"\n"]],[156,156],[157,157]]],[1525959843820,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525959843820,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525959792908,["fangle@fangle-PC",[[1,157,"Innodb "]],[157,157],[164,164]]],[1525959793506,["fangle@fangle-PC",[[-1,163," "]],[164,164],[163,163]]],[1525959828385,["fangle@fangle-PC",[[1,163,"支持一致性的非锁定读，行级锁支持，行级锁没有相关地"]],[163,163],[188,188]]],[1525959830247,["fangle@fangle-PC",[[-1,187,"地"]],[188,188],[187,187]]],[1525959832462,["fangle@fangle-PC",[[1,187,"的![](file:///C:\\Users\\fangle\\AppData\\Local\\Temp\\SGPicFaceTpBq\\6280\\02865FB9.png)"]],[187,187],[267,267]]],[1525959843754,["fangle@fangle-PC",[[-1,191,"(file:///C:\\Users\\fangle\\AppData\\Local\\Temp\\SGPicFaceTpBq\\6280\\02865FB9.png)"]],[267,267],[191,191]]],[1525959903820,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525959903820,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525959845224,["fangle@fangle-PC",[[-1,188,"![]"]],[191,191],[188,188]]],[1525959868538,["fangle@fangle-PC",[[1,188,"开销，可以同时得到并发性和一致性。"]],[188,188],[205,205]]],[1525959869627,["fangle@fangle-PC",[[1,208,"\n"]],[205,205],[206,206]]],[1525959869787,["fangle@fangle-PC",[[1,209,"\n"]],[206,206],[207,207]]],[1525961883895,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525961883895,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525961839572,["fangle@fangle-PC",[[1,188,"0"]],[188,188],[189,189]]],[1525962543909,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525962543910,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525962497492,["fangle@fangle-PC",[[1,189," "]],[189,189],[190,190]]],[1525963443934,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525963443934,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525963419618,["fangle@fangle-PC",[[-1,188,"0 "]],[190,190],[188,188]]],[1525963420453,["fangle@fangle-PC",[[1,188,"的"]],[188,188],[189,189]]],[1525963434525,["fangle@fangle-PC",[[1,208,"### 锁的"]],[208,208],[214,214]]],[1525963435570,["fangle@fangle-PC",[[-1,213,"的"]],[214,214],[213,213]]],[1525963437512,["fangle@fangle-PC",[[1,213,"的类型"]],[213,213],[216,216]]],[1525963437845,["fangle@fangle-PC",[[1,219,"\n"]],[216,216],[217,217]]],[1525963623941,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525963623941,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525963621269,["fangle@fangle-PC",[[1,217,"innodb存储引擎实现了两种"]],[217,217],[232,232]]],[1525963683916,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525963683916,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525963627862,["fangle@fangle-PC",[[1,232,"标准的行级锁"]],[232,232],[238,238]]],[1525963628130,["fangle@fangle-PC",[[1,241,"\n"]],[238,238],[239,239]]],[1525963643585,["fangle@fangle-PC",[[1,239,"- 共享锁()"]],[239,239],[246,246]]],[1525963646150,["fangle@fangle-PC",[[1,245,"s lock"]],[246,246],[251,251]]],[1525963660057,["fangle@fangle-PC",[[1,252,"，允许事务读一行数据"]],[252,252],[262,262]]],[1525963661006,["fangle@fangle-PC",[[1,265,"\n"]],[262,262],[263,263]]],[1525963668634,["fangle@fangle-PC",[[1,263,"- 排他锁（）"]],[263,263],[270,270]]],[1525963669138,["fangle@fangle-PC",[[-1,268,"（）"]],[270,270],[268,268]]],[1525963669844,["fangle@fangle-PC",[[1,268,"()"]],[268,268],[270,270]]],[1525963673824,["fangle@fangle-PC",[[1,269,"x lock"]],[269,269],[275,275]]],[1525963675087,["fangle@fangle-PC",[[1,276,","]],[276,276],[277,277]]],[1525963677025,["fangle@fangle-PC",[[-1,276,","]],[277,277],[276,276]]],[1525963681915,["fangle@fangle-PC",[[1,276,"，允许"]],[276,276],[279,279]]],[1525963743917,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525963743917,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525963695047,["fangle@fangle-PC",[[1,279,"事务删除或更新一行数据"]],[279,279],[290,290]]],[1525963803921,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525963803921,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525963752135,["fangle@fangle-PC",[[1,293,"\n"]],[290,290],[291,291]]],[1525963797233,["fangle@fangle-PC",[[1,294,"\n"]],[291,291],[292,292]]],[1525963803587,["fangle@fangle-PC",[[1,292,"锁兼容：当一个"]],[292,292],[299,299]]],[1525963863925,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525963863925,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525963813475,["fangle@fangle-PC",[[1,299,"事务获得行R"]],[299,299],[305,305]]],[1525963814362,["fangle@fangle-PC",[[-1,304,"R"]],[305,305],[304,304]]],[1525963836452,["fangle@fangle-PC",[[1,304,"r的共享锁，那么另外的事务就可以立即获得行人"]],[304,304],[326,326]]],[1525963837162,["fangle@fangle-PC",[[-1,325,"人"]],[326,326],[325,325]]],[1525963859328,["fangle@fangle-PC",[[1,325,"r的共享锁。这种情况称之为锁兼容。"]],[325,325],[342,342]]],[1525964103945,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525964103945,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525964100121,["fangle@fangle-PC",[[1,342,"如果事务想获得行r的"]],[342,342],[352,352]]],[1525964163930,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525964163930,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525964132576,["fangle@fangle-PC",[[1,352,"排他锁，则他必须等待事务释放hang"]],[352,352],[370,370]]],[1525964134117,["fangle@fangle-PC",[[-1,366,"hang"]],[370,370],[366,366]]],[1525964147927,["fangle@fangle-PC",[[1,366,"行r上的共享锁。"]],[366,366],[374,374]]],[1525964583965,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525964583966,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525964531163,["fangle@fangle-PC",[[1,377,"\n"]],[375,375],[376,376]]],[1525964535108,["fangle@fangle-PC",[[1,376,"意向锁"]],[376,376],[379,379]]],[1525964536057,["fangle@fangle-PC",[[1,381,"\n"]],[379,379],[380,380]]],[1525964567897,["fangle@fangle-PC",[[1,379,"：Innodbcun"]],[379,379],[389,389]]],[1525964568654,["fangle@fangle-PC",[[-1,386,"cun"]],[389,389],[386,386]]],[1525964577341,["fangle@fangle-PC",[[1,386,"存储引擎致辞"]],[386,386],[392,392]]],[1525964577964,["fangle@fangle-PC",[[-1,390,"致辞"]],[392,392],[390,390]]],[1525964583425,["fangle@fangle-PC",[[1,390,"支持多粒度"]],[390,390],[395,395]]],[1525964883954,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525964883955,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525964832548,["fangle@fangle-PC",[[1,398,"\n"]],[395,395],[396,396]]],[1525964832892,["fangle@fangle-PC",[[1,399,"\n"]],[396,396],[397,397]]],[1525964835531,["fangle@fangle-PC",[[1,397,"【】"]],[397,397],[399,399]]],[1525964836162,["fangle@fangle-PC",[[-1,397,"【】"]],[399,399],[397,397]]],[1525964837749,["fangle@fangle-PC",[[1,397,"[]()"]],[397,397],[401,401]]],[1525964838932,["fangle@fangle-PC",[[1,400,"https://www.cnblogs.com/janehoo/p/5603983.html"]],[400,400],[446,446]]],[1525964843380,["fangle@fangle-PC",[[1,398,"li"]],[398,398],[400,400]]],[1525964844589,["fangle@fangle-PC",[[-1,398,"li"]],[400,400],[398,398]]],[1525964852110,["fangle@fangle-PC",[[1,398,"了解innodb锁"]],[398,398],[407,407]]],[1525965003967,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525965003968,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525964996123,["fangle@fangle-PC",[[1,459,"\n"]],[456,456],[457,457]]],[1525964997499,["fangle@fangle-PC",[[1,457,"【"]],[457,457],[458,458]]],[1525964998106,["fangle@fangle-PC",[[-1,457,"【"]],[458,458],[457,457]]],[1525965000455,["fangle@fangle-PC",[[1,457,"[]()"]],[457,457],[461,461]]],[1525965002264,["fangle@fangle-PC",[[1,460,"https://www.cnblogs.com/deliver/p/5730616.html"]],[460,460],[506,506]]],[1525965183977,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525965183977,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525965169882,["fangle@fangle-PC",[[1,458,"# [mysql的锁--行锁，表锁，乐观锁，悲观锁](http://www.cnblogs.com/deliver/p/5730616.html)"]],[458,458],[531,531]]],[1525965179291,["fangle@fangle-PC",[[-1,483,"](http://www.cnblogs.com/deliver/p/5730616.html)"]],[484,531],[483,483]]],[1525965183176,["fangle@fangle-PC",[[-1,458,"# "]],[460,460],[458,458]]],[1525965243957,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525965243957,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525965184274,["fangle@fangle-PC",[[-1,458,"["]],[458,458],[457,457]]],[1525965842723,[null,[[1,18,"n"],[-1,21,"c"]],[18,18],[21,21]]],[1525965842723,[null,[[-1,18,"n"],[1,22,"c"]],[21,21],[18,18]]],[1525965798311,["fangle@fangle-PC",[[-1,531,"\n"]],[531,531],[530,530]]],[1525965801583,["fangle@fangle-PC",[[-1,530,"\n"],[1,531,"[]()"]],[530,530],[534,534]]],[1525965803151,["fangle@fangle-PC",[[1,533,"https://segmentfault.com/a/1190000014071758"]],[533,533],[576,576]]],[1525965820226,["fangle@fangle-PC",[[1,531,"# [MySQL InnoDB 锁——官方文档](https://segmentfault.com/a/1190000014071758)"]],[531,531],[600,600]]],[1525965832393,["fangle@fangle-PC",[[-1,600,"](https://segmentfault.com/a/1190000014071758)"]],[555,601],[555,555]]],[1525965834277,["fangle@fangle-PC",[[-1,531,"# ["]],[530,533],[530,530]]]]],["8949f0b8-916b-4f22-b8bd-69cfeedcd872",1526540357984,"MySQL锁机制\n===\n\n> innodb存储引擎不需要锁升级，因为一个锁和多个锁的开销是相同的。\n\n锁机制用于管理对共享资源的并发访问。数据库系统使用锁是为了支持对共享资源进行并发访问，提供数据的完整性和一致性。\n\n对于Myisam引擎来说，其锁是表锁并发情况下的读没有问题，但是并发插入时的性能就要差一些。\nInnodb支持一致性的非锁定读，行级锁支持，行级锁没有相关的的开销，可以同时得到并发性和一致性。\n\n### 锁的类型\ninnodb存储引擎实现了两种标准的行级锁\n- 共享锁(s lock)，允许事务读一行数据\n- 排他锁(x lock)，允许事务删除或更新一行数据\n\n锁兼容：当一个事务获得行r的共享锁，那么另外的事务就可以立即获得行r的共享锁。这种情况称之为锁兼容。如果事务想获得行r的排他锁，则他必须等待事务释放行r上的共享锁。\n\n意向锁：Innodb存储引擎支持多粒度\n\n[了解innodb锁](https://www.cnblogs.com/janehoo/p/5603983.html)\n[mysql的锁--行锁，表锁，乐观锁，悲观锁](https://www.cnblogs.com/deliver/p/5730616.html)\n[MySQL InnoDB 锁——官方文档](https://segmentfault.com/a/1190000014071758)",[[1526540355823,["fangle@fangle-PC",[[1,395,"锁定，这种锁定允许行级锁和表级锁同时存在"]],[395,395],[415,415]]],[1526540365233,["fangle@fangle-PC",[[1,415,"。为了支持不同粒度上的"]],[415,415],[426,426]]],[1526540368573,["fangle@fangle-PC",[[-1,425,"的"]],[426,426],[425,425]]],[1526540414550,["fangle@fangle-PC",[[1,425,"进行加锁操作，Innodb存储引擎支持一种额外的锁的"]],[425,425],[451,451]]],[1526540438728,["fangle@fangle-PC",[[1,451,"方式，称之为意向锁。意向锁是表级锁，"]],[451,451],[469,469]]],[1526540446017,["fangle@fangle-PC",[[-1,468,"，"]],[469,469],[468,468]]],[1526540447089,["fangle@fangle-PC",[[1,468,"。"]],[468,468],[469,469]]],[1526540460032,["fangle@fangle-PC",[[1,471,"\n"]],[469,469],[470,470]]],[1526540460195,["fangle@fangle-PC",[[1,472,"\n"]],[470,470],[471,471]]],[1526540460373,["fangle@fangle-PC",[[1,473,"\n"]],[471,471],[472,472]]],[1526540463924,["fangle@fangle-PC",[[1,472,"锁相关资料"]],[472,472],[477,477]]],[1526540464555,["fangle@fangle-PC",[[-1,475,"资料"]],[477,477],[475,475]]],[1526540466890,["fangle@fangle-PC",[[1,475,"指令"]],[475,475],[477,477]]],[1526540467491,["fangle@fangle-PC",[[1,479,"\n"]],[477,477],[478,478]]],[1526540476357,["fangle@fangle-PC",[[1,478,"- 查看当前请求锁"]],[478,478],[487,487]]],[1526540477345,["fangle@fangle-PC",[[1,487,"信息"]],[487,487],[489,489]]],[1526540477773,["fangle@fangle-PC",[[1,491,"\n"]],[489,489],[490,490]]],[1526540479466,["fangle@fangle-PC",[[1,490,"·"]],[490,490],[491,491]]],[1526540480091,["fangle@fangle-PC",[[-1,490,"·"]],[491,491],[490,490]]],[1526540480880,["fangle@fangle-PC",[[1,490,"``"]],[490,490],[492,492]]],[1526540492929,["fangle@fangle-PC",[[1,491,"show engine innoed"]],[491,491],[509,509]]],[1526540493430,["fangle@fangle-PC",[[-1,507,"ed"]],[509,509],[507,507]]],[1526540500977,["fangle@fangle-PC",[[1,507,"db status\\G"]],[507,507],[518,518]]],[1526540530121,["fangle@fangle-PC",[[1,472,"\n"]],[470,470],[471,471]]],[1526540535315,["fangle@fangle-PC",[[1,471,"innodbzhi"]],[471,471],[480,480]]],[1526540535992,["fangle@fangle-PC",[[-1,477,"zhi"]],[480,480],[477,477]]],[1526540542107,["fangle@fangle-PC",[[1,477,"支持两种意向锁"]],[477,477],[484,484]]],[1526540551902,["fangle@fangle-PC",[[1,477,"cun"]],[477,477],[480,480]]],[1526540552593,["fangle@fangle-PC",[[-1,477,"cun"]],[480,480],[477,477]]],[1526540555460,["fangle@fangle-PC",[[1,477,"存储引擎"]],[477,477],[481,481]]],[1526540557522,["fangle@fangle-PC",[[1,488,"："]],[488,488],[489,489]]],[1526540557713,["fangle@fangle-PC",[[1,491,"\n"]],[489,489],[490,490]]],[1526540568673,["fangle@fangle-PC",[[1,490,"- 意向共享锁()"]],[490,490],[499,499]]],[1526540573289,["fangle@fangle-PC",[[1,498,"IS Lock"]],[498,498],[505,505]]],[1526540593861,["fangle@fangle-PC",[[1,506,"，事务想要获得一个表中的某几行共享锁"]],[506,506],[524,524]]],[1526540594608,["fangle@fangle-PC",[[1,526,"\n"]],[524,524],[525,525]]],[1526540595529,["fangle@fangle-PC",[[1,525,"- "]],[525,525],[527,527]]],[1526540609059,["fangle@fangle-PC",[[1,527,"意向排他锁()"]],[527,527],[534,534]]],[1526540611980,["fangle@fangle-PC",[[1,533,"IS=="]],[533,533],[537,537]]],[1526540613431,["fangle@fangle-PC",[[-1,533,"IS=="]],[537,537],[533,533]]],[1526540618294,["fangle@fangle-PC",[[1,533,"IX Lock"]],[533,533],[540,540]]],[1526540634754,["fangle@fangle-PC",[[1,541,"，事务想要获得一个表中的某几行排他锁"]],[541,541],[559,559]]],[1526540635770,["fangle@fangle-PC",[[1,561,"\n"]],[559,559],[560,560]]],[1526540635924,["fangle@fangle-PC",[[1,562,"\n"]],[560,560],[561,561]]],[1526540636076,["fangle@fangle-PC",[[1,563,"\n"]],[561,561],[562,562]]],[1526540835382,["fangle@fangle-PC",[[1,612,"- 手动加共享锁语句"]],[612,612],[622,622]]],[1526540835939,["fangle@fangle-PC",[[1,623,"\n"]],[622,622],[623,623]]],[1526540838869,["fangle@fangle-PC",[[1,623,"``"]],[623,623],[625,625]]],[1526540840616,["fangle@fangle-PC",[[1,624,"SELECT...FROM...IN SHARE MODE"]],[624,624],[653,653]]],[1526540854195,["fangle@fangle-PC",[[-1,642," "],[1,643," "],[-1,648," "],[1,649," "],[1,654,"\n"]],[654,654],[655,655]]],[1526540856092,["fangle@fangle-PC",[[1,655,"- shou"]],[655,655],[661,661]]],[1526540857223,["fangle@fangle-PC",[[-1,657,"shou"]],[661,661],[657,657]]],[1526540864032,["fangle@fangle-PC",[[1,657,"手动加排他锁语句"]],[657,657],[665,665]]],[1526540864527,["fangle@fangle-PC",[[1,666,"\n"]],[665,665],[666,666]]],[1526540866491,["fangle@fangle-PC",[[1,666,"``"]],[666,666],[668,668]]],[1526540879720,["fangle@fangle-PC",[[1,667,"SELECT...FROM...FOR UPDATR"]],[667,667],[693,693]]],[1526540889852,["fangle@fangle-PC",[[-1,686," "],[1,687," "],[1,694,"\n"]],[694,694],[695,695]]],[1526541100776,["fangle@fangle-PC",[[1,217,"\n"]],[216,216],[217,217]]],[1526541101314,["fangle@fangle-PC",[[1,218,"\n"]],[217,217],[218,218]]],[1526541104362,["fangle@fangle-PC",[[1,218,"#### s"]],[218,218],[224,224]]],[1526541105163,["fangle@fangle-PC",[[-1,223,"s"]],[224,224],[223,223]]],[1526541106035,["fangle@fangle-PC",[[1,223,"gon"]],[223,223],[226,226]]],[1526541106975,["fangle@fangle-PC",[[-1,223,"gon"]],[226,226],[223,223]]],[1526541112883,["fangle@fangle-PC",[[1,223,"共享锁与排他锁"]],[223,223],[230,230]]],[1526541119532,["fangle@fangle-PC",[[1,390,"\n"]],[389,389],[390,390]]],[1526541127923,["fangle@fangle-PC",[[1,390,"#### 意向锁"]],[390,390],[398,398]]],[1526541139757,["fangle@fangle-PC",[[-1,586,"\n"]],[586,586],[585,585]]],[1526541140209,["fangle@fangle-PC",[[-1,585,"\n"]],[585,585],[584,584]]],[1526541142130,["fangle@fangle-PC",[[-1,584,"\n"]],[584,584],[583,583]]],[1526541146019,["fangle@fangle-PC",[[1,584,"#### "]],[584,584],[589,589]]],[1526541152979,["fangle@fangle-PC",[[1,721,"\n"]],[720,720],[721,721]]],[1526541153895,["fangle@fangle-PC",[[1,722,"\n"]],[720,720],[721,721]]],[1526541165887,["fangle@fangle-PC",[[1,721,"### 一致性非锁定读"]],[721,721],[732,732]]],[1526541166250,["fangle@fangle-PC",[[1,734,"\n"]],[732,732],[733,733]]],[1526541171461,["fangle@fangle-PC",[[1,733,"》"]],[733,733],[734,734]]],[1526541172130,["fangle@fangle-PC",[[-1,733,"》"]],[734,734],[733,733]]],[1526541173691,["fangle@fangle-PC",[[1,733,"》"]],[733,733],[734,734]]],[1526541174292,["fangle@fangle-PC",[[-1,733,"》"]],[734,734],[733,733]]],[1526541176629,["fangle@fangle-PC",[[1,733,"> yiz"]],[733,733],[738,738]]],[1526541177592,["fangle@fangle-PC",[[-1,735,"yiz"]],[738,738],[735,735]]],[1526541195078,["fangle@fangle-PC",[[1,735,"一致性非锁定读 是指"]],[735,735],[745,745]]],[1526541205986,["fangle@fangle-PC",[[1,745,"Innodb存储引擎"]],[745,745],[755,755]]],[1526541792005,["fangle@fangle-PC",[[1,755,"通过行多版本控制的方式来读取当前执行时间数据库中的"]],[755,755],[780,780]]],[1526541846394,["fangle@fangle-PC",[[1,780,"行的数据。如果读取的行正在执行DELETE，UPDATE操作，此时读取操作不会因此"]],[780,780],[821,821]]],[1526541889656,["fangle@fangle-PC",[[1,821,"等待行上锁的释放，相反Innodb存储引擎获取"]],[821,821],[844,844]]],[1526541890236,["fangle@fangle-PC",[[-1,842,"获取"]],[844,844],[842,842]]],[1526541903248,["fangle@fangle-PC",[[1,842,"会去读取行的一个快照数据。"]],[842,842],[855,855]]],[1526541933425,["fangle@fangle-PC",[[1,857,"\n"]],[855,855],[856,856]]],[1526541933627,["fangle@fangle-PC",[[1,858,"\n"]],[856,856],[857,857]]],[1526541942584,["fangle@fangle-PC",[[1,857,"一致性付费"]],[857,857],[862,862]]],[1526541943460,["fangle@fangle-PC",[[-1,860,"付费"]],[862,862],[860,860]]],[1526541965218,["fangle@fangle-PC",[[1,860,"非锁定读是通过Undo段来实现的，"]],[860,860],[877,877]]],[1526541987982,["fangle@fangle-PC",[[1,877,"读取快照信息是不需要加锁的。"]],[877,877],[891,891]]],[1526542064107,["fangle@fangle-PC",[[1,857,"- "]],[857,857],[859,859]]],[1526542067173,["fangle@fangle-PC",[[1,895,"\n"]],[893,893],[894,894]]],[1526542093243,["fangle@fangle-PC",[[1,894,"- 非锁定读机制大大提高了"]],[894,894],[907,907]]],[1526542119302,["fangle@fangle-PC",[[1,907,"数据读取的并发性，在Innodb中"]],[907,907],[924,924]]],[1526542183063,["fangle@fangle-PC",[[-1,923,"中"]],[924,924],[923,923]]],[1526542187414,["fangle@fangle-PC",[[1,923,"存储引擎中"]],[923,923],[928,928]]],[1526542192045,["fangle@fangle-PC",[[-1,927,"中"]],[928,928],[927,927]]],[1526542214689,["fangle@fangle-PC",[[1,927,"默认设置中，这是默认的"]],[927,927],[938,938]]],[1526542232437,["fangle@fangle-PC",[[1,938,"读取方式。"]],[938,938],[943,943]]],[1526542232689,["fangle@fangle-PC",[[1,945,"\n"]],[943,943],[944,944]]],[1526542235710,["fangle@fangle-PC",[[-1,945,"\n"]],[944,944],[943,943]]],[1526542236097,["fangle@fangle-PC",[[-1,942,"。"]],[943,943],[942,942]]],[1526542270696,["fangle@fangle-PC",[[1,942,"，即读取不会占用和等待表上的锁。"]],[942,942],[958,958]]],[1526542283998,["fangle@fangle-PC",[[1,960,"\n"]],[958,958],[959,959]]],[1526542290639,["fangle@fangle-PC",[[1,959,"- 不同事物"]],[959,959],[965,965]]],[1526542290987,["fangle@fangle-PC",[[-1,964,"物"]],[965,965],[964,964]]],[1526542296443,["fangle@fangle-PC",[[1,964,"务隔离级别上的"]],[964,964],[971,971]]],[1526542304383,["fangle@fangle-PC",[[-1,970,"的"]],[971,971],[970,970]]],[1526542311907,["fangle@fangle-PC",[[1,970,"下的读取方式"]],[970,970],[976,976]]],[1526542314827,["fangle@fangle-PC",[[-1,969,"上"]],[970,970],[969,969]]],[1526542336309,["fangle@fangle-PC",[[1,975,"不同，并"]],[975,975],[979,979]]],[1526542341648,["fangle@fangle-PC",[[1,979,"不是所有的"]],[979,979],[984,984]]],[1526542344244,["fangle@fangle-PC",[[-1,981,"所有的"]],[984,984],[981,981]]],[1526542350489,["fangle@fangle-PC",[[1,981,"每个事务隔离级别下的"]],[981,981],[991,991]]],[1526542352801,["fangle@fangle-PC",[[-1,990,"的"]],[991,991],[990,990]]],[1526542357230,["fangle@fangle-PC",[[1,990,"读取都一样"]],[990,990],[995,995]]],[1526542360973,["fangle@fangle-PC",[[-1,992,"都一样"]],[995,995],[992,992]]],[1526542362178,["fangle@fangle-PC",[[1,992,"是"]],[992,992],[993,993]]],[1526542362634,["fangle@fangle-PC",[[-1,992,"是"]],[993,993],[992,992]]],[1526542370936,["fangle@fangle-PC",[[1,992,"都是一致性非锁定读，"]],[992,992],[1002,1002]]],[1526542372267,["fangle@fangle-PC",[[-1,1001,"，"]],[1002,1002],[1001,1001]]],[1526542373272,["fangle@fangle-PC",[[1,1001,"、"]],[1001,1001],[1002,1002]]],[1526542374455,["fangle@fangle-PC",[[-1,1001,"、"]],[1002,1002],[1001,1001]]],[1526542386048,["fangle@fangle-PC",[[1,1001,"。同样的"]],[1001,1001],[1005,1005]]],[1526542388920,["fangle@fangle-PC",[[-1,1002,"同样的"]],[1005,1005],[1002,1002]]],[1526542395059,["fangle@fangle-PC",[[1,1002,"而且就算都是一致性"]],[1002,1002],[1011,1011]]],[1526542401965,["fangle@fangle-PC",[[1,1011,"非锁定读，多"]],[1011,1011],[1017,1017]]],[1526542402590,["fangle@fangle-PC",[[-1,1016,"多"]],[1017,1017],[1016,1016]]],[1526542412095,["fangle@fangle-PC",[[1,1016,"对快照数据的定义也不塌"]],[1016,1016],[1027,1027]]],[1526542412544,["fangle@fangle-PC",[[-1,1026,"塌"]],[1027,1027],[1026,1026]]],[1526542415165,["fangle@fangle-PC",[[1,1026,"同。"]],[1026,1026],[1028,1028]]],[1526542415493,["fangle@fangle-PC",[[1,1030,"\n"]],[1028,1028],[1029,1029]]],[1526542419480,["fangle@fangle-PC",[[1,1029,"- "]],[1029,1029],[1031,1031]]],[1526542477800,["fangle@fangle-PC",[[1,1031,"在ReadC"]],[1031,1031],[1037,1037]]],[1526542478408,["fangle@fangle-PC",[[-1,1036,"C"]],[1037,1037],[1036,1036]]],[1526542479821,["fangle@fangle-PC",[[1,1036," Con"]],[1036,1036],[1040,1040]]],[1526542480349,["fangle@fangle-PC",[[-1,1039,"n"]],[1040,1040],[1039,1039]]],[1526542481861,["fangle@fangle-PC",[[1,1039,"mmite"]],[1039,1039],[1044,1044]]],[1526542482343,["fangle@fangle-PC",[[-1,1043,"e"]],[1044,1044],[1043,1043]]],[1526542483944,["fangle@fangle-PC",[[1,1043,"ted he "]],[1043,1043],[1050,1050]]],[1526542484525,["fangle@fangle-PC",[[-1,1047,"he "]],[1050,1050],[1047,1047]]],[1526542516226,["fangle@fangle-PC",[[1,1047,"和 Repeatable Read隔离级别下，Innodb"]],[1047,1047],[1076,1076]]],[1526542524667,["fangle@fangle-PC",[[1,1076,"使用一致性非锁定读。"]],[1076,1076],[1086,1086]]],[1526542537568,["fangle@fangle-PC",[[1,1088,"\n"]],[1086,1086],[1087,1087]]],[1526542546796,["fangle@fangle-PC",[[1,1087,"- 在Read Committed "]],[1087,1087],[1105,1105]]],[1526542551315,["fangle@fangle-PC",[[-1,1104," "]],[1105,1105],[1104,1104]]],[1526542556702,["fangle@fangle-PC",[[1,1104,"gel"]],[1104,1104],[1107,1107]]],[1526542557381,["fangle@fangle-PC",[[-1,1104,"gel"]],[1107,1107],[1104,1104]]],[1526542574063,["fangle@fangle-PC",[[1,1104,"隔离级别下，快照数据，总是被"]],[1104,1104],[1118,1118]]],[1526542581581,["fangle@fangle-PC",[[-1,1110,"快照数据，总是被"]],[1118,1118],[1110,1110]]],[1526542611397,["fangle@fangle-PC",[[1,1110,"非一致性读的快照数据，总是读取被锁定行的最新一份快照数据"]],[1110,1110],[1138,1138]]],[1526542611826,["fangle@fangle-PC",[[1,1140,"\n"]],[1138,1138],[1139,1139]]],[1526542622199,["fangle@fangle-PC",[[1,1139,"- 在Repeatable Read ge"]],[1139,1139],[1160,1160]]],[1526542622769,["fangle@fangle-PC",[[-1,1158,"ge"]],[1160,1160],[1158,1158]]],[1526542633796,["fangle@fangle-PC",[[1,1158,"隔离级别下，非一致性读的快照数据"]],[1158,1158],[1174,1174]]],[1526542648863,["fangle@fangle-PC",[[1,1174,"，总是读取事务开始是"]],[1174,1174],[1184,1184]]],[1526542649799,["fangle@fangle-PC",[[-1,1183,"是"]],[1184,1184],[1183,1183]]],[1526542656960,["fangle@fangle-PC",[[1,1183,"时的行数据版本。"]],[1183,1183],[1191,1191]]],[1526542665280,["fangle@fangle-PC",[[1,1193,"\n"]],[1191,1191],[1192,1192]]],[1526542693180,["fangle@fangle-PC",[[1,1192,"- 快照数据其实就是当前行数据之前的利索"]],[1192,1192],[1212,1212]]],[1526542693821,["fangle@fangle-PC",[[-1,1210,"利索"]],[1212,1212],[1210,1210]]],[1526542695888,["fangle@fangle-PC",[[1,1210,"历史"]],[1210,1210],[1212,1212]]],[1526542700735,["fangle@fangle-PC",[[1,1212,"版本，肯"]],[1212,1212],[1216,1216]]],[1526542701147,["fangle@fangle-PC",[[-1,1215,"肯"]],[1216,1216],[1215,1215]]],[1526542754037,["fangle@fangle-PC",[[1,1215,"可能有多个版本。一个行可能有布置"]],[1215,1215],[1231,1231]]],[1526542755155,["fangle@fangle-PC",[[-1,1229,"布置"]],[1231,1231],[1229,1229]]],[1526542788944,["fangle@fangle-PC",[[1,1229,"不止一个快照数据，我们称这种技术为行多版本技术，"]],[1229,1229],[1253,1253]]],[1526542790460,["fangle@fangle-PC",[[-1,1252,"，"]],[1253,1253],[1252,1252]]],[1526542811891,["fangle@fangle-PC",[[1,1252,"。由此带来的并发控制，称为"]],[1252,1252],[1265,1265]]],[1526542832378,["fangle@fangle-PC",[[1,1265,"多版本并发控制，就是常说的MMVC"]],[1265,1265],[1282,1282]]],[1526542835716,["fangle@fangle-PC",[[-1,1279,"MVC"]],[1282,1282],[1279,1279]]],[1526542838525,["fangle@fangle-PC",[[1,1279,"VCC"]],[1279,1279],[1282,1282]]],[1526542894450,["fangle@fangle-PC",[[-1,1192,"- 快照数据其实就是当前行数据之前的历史版本，可能有多个版本。一个行可能有不止一个快照数据，我们称这种技术为行多版本技术。由此带来的并发控制，称为多版本并发控制，就是常说的MVCC"]],[1192,1193],[1192,1192]]],[1526542898436,["fangle@fangle-PC",[[1,857,"\n"]],[856,856],[857,857]]],[1526542899332,["fangle@fangle-PC",[[1,858,"\n"]],[856,856],[857,857]]],[1526542900405,["fangle@fangle-PC",[[1,857," 快照数据其实就是当前行数据之前的历史版本，可能有多个版本。一个行可能有不止一个快照数据，我们称这种技术为行多版本技术。由此带来的并发控制，称为多版本并发控制，就是常说的MVCC"]],[857,857],[946,946]]],[1526542911084,["fangle@fangle-PC",[[1,857,"快照："]],[857,857],[860,860]]],[1526542913158,["fangle@fangle-PC",[[-1,860," "]],[861,861],[860,860]]],[1526543159596,["fangle@fangle-PC",[[1,860,"\n"]],[860,860],[861,861]]],[1526543168133,["fangle@fangle-PC",[[1,857,"####="]],[857,857],[862,862]]],[1526543170541,["fangle@fangle-PC",[[-1,860,"#="]],[862,862],[860,860]]],[1526543173586,["fangle@fangle-PC",[[1,860,"# "]],[860,860],[862,862]]],[1526543176362,["fangle@fangle-PC",[[-1,864,"："]],[865,865],[864,864]]],[1526543182459,["fangle@fangle-PC",[[1,865,">"]],[865,865],[866,866]]],[1526543188301,["fangle@fangle-PC",[[1,733,"\n"]],[732,732],[733,733]]],[1526543191675,["fangle@fangle-PC",[[1,733,"#### yiz"]],[733,733],[741,741]]],[1526543192888,["fangle@fangle-PC",[[-1,738,"yiz"]],[741,741],[738,738]]],[1526543200026,["fangle@fangle-PC",[[1,738,"一致性非锁定读"]],[738,738],[745,745]]],[1526543207062,["fangle@fangle-PC",[[1,969,"\n"]],[968,968],[969,969]]],[1526543217825,["fangle@fangle-PC",[[1,969,"####"]],[969,969],[973,973]]],[1526543219745,["fangle@fangle-PC",[[-1,969,"####"]],[973,973],[969,969]]],[1526543220257,["fangle@fangle-PC",[[-1,969,"\n"]],[969,969],[968,968]]],[1526543225975,["fangle@fangle-PC",[[-1,969,"- 一致性非锁定读是通过Undo段来实现的，读取快照信息是不需要加锁的。\n- 非锁定读机制大大提高了数据读取的并发性，在Innodb存储引擎默认设置中，这是默认的读取方式，即读取不会占用和等待表上的锁。\n- 不同事务隔离级别下的读取方式不同，并不是每个事务隔离级别下读取都是一致性非锁定读。而且就算都是一致性非锁定读，对快照数据的定义也不同。\n- 在Read Committed 和 Repeatable Read隔离级别下，Innodb使用一致性非锁定读。\n- 在Read Committed隔离级别下，非一致性读的快照数据，总是读取被锁定行的最新一份快照数据\n- 在Repeatable Read 隔离级别下，非一致性读的快照数据，总是读取事务开始时的行数据版本。"]],[969,1303],[969,969]]],[1526543231540,["fangle@fangle-PC",[[1,869,"- 一致性非锁定读是通过Undo段来实现的，读取快照信息是不需要加锁的。\n- 非锁定读机制大大提高了数据读取的并发性，在Innodb存储引擎默认设置中，这是默认的读取方式，即读取不会占用和等待表上的锁。\n- 不同事务隔离级别下的读取方式不同，并不是每个事务隔离级别下读取都是一致性非锁定读。而且就算都是一致性非锁定读，对快照数据的定义也不同。\n- 在Read Committed 和 Repeatable Read隔离级别下，Innodb使用一致性非锁定读。\n- 在Read Committed隔离级别下，非一致性读的快照数据，总是读取被锁定行的最新一份快照数据\n- 在Repeatable Read 隔离级别下，非一致性读的快照数据，总是读取事务开始时的行数据版本。"]],[869,869],[1203,1203]]],[1526543234028,["fangle@fangle-PC",[[-1,746,"> 一致性非锁定读 是指Innodb存储引擎通过行多版本控制的方式来读取当前执行时间数据库中的行的数据。如果读取的行正在执行DELETE，UPDATE操作，此时读取操作不会因此等待行上锁的释放，相反Innodb存储引擎会去读取行的一个快照数据。"]],[746,868],[746,746]]],[1526543235177,["fangle@fangle-PC",[[-1,746,"\n"]],[746,746],[745,745]]],[1526543237426,["fangle@fangle-PC",[[1,733,"\n"]],[732,732],[733,733]]],[1526543238522,["fangle@fangle-PC",[[1,733,"> 一致性非锁定读 是指Innodb存储引擎通过行多版本控制的方式来读取当前执行时间数据库中的行的数据。如果读取的行正在执行DELETE，UPDATE操作，此时读取操作不会因此等待行上锁的释放，相反Innodb存储引擎会去读取行的一个快照数据。"]],[733,733],[855,855]]],[1526543244812,["fangle@fangle-PC",[[1,733,"\n"]],[732,732],[733,733]]],[1526543248822,["fangle@fangle-PC",[[-1,857,"#### 一致性非锁定读"]],[857,869],[857,857]]],[1526543264933,["fangle@fangle-PC",[[1,1193,"\n"]],[1193,1193],[1194,1194]]],[1526543308697,["fangle@fangle-PC",[[1,1293,"#### 手动加锁"]],[1293,1293],[1302,1302]]],[1526543309109,["fangle@fangle-PC",[[1,1305,"\n"]],[1302,1302],[1303,1303]]],[1526543339376,["fangle@fangle-PC",[[1,1303,"由于默认情况下，Innodb引擎使用了"]],[1303,1303],[1322,1322]]],[1526543346643,["fangle@fangle-PC",[[-1,1319,"使用了"]],[1322,1322],[1319,1319]]],[1526543356584,["fangle@fangle-PC",[[1,1319,"的SELECT"]],[1319,1319],[1326,1326]]],[1526543375341,["fangle@fangle-PC",[[1,1326,"操作使用一致性非锁定读，也就是说读取是不加速"]],[1326,1326],[1348,1348]]],[1526543375867,["fangle@fangle-PC",[[-1,1347,"速"]],[1348,1348],[1347,1347]]],[1526543376596,["fangle@fangle-PC",[[1,1347,"多"]],[1347,1347],[1348,1348]]],[1526543376930,["fangle@fangle-PC",[[-1,1347,"多"]],[1348,1348],[1347,1347]]],[1526543412968,["fangle@fangle-PC",[[1,1347,"锁的。但是在某些情况下，我们需要对读取进行加锁。"]],[1347,1347],[1371,1371]]],[1526543416244,["fangle@fangle-PC",[[-1,1368,"加锁。"]],[1371,1371],[1368,1368]]],[1526543419265,["fangle@fangle-PC",[[1,1368,"手动加锁。"]],[1368,1368],[1373,1373]]],[1526543422534,["fangle@fangle-PC",[[-1,1368,"手动加锁。"]],[1373,1373],[1368,1368]]],[1526543436488,["fangle@fangle-PC",[[1,1368,"加锁，这个时候就需要我们使用手动加锁语句看"]],[1368,1368],[1389,1389]]],[1526543436883,["fangle@fangle-PC",[[-1,1388,"看"]],[1389,1389],[1388,1388]]],[1526543438343,["fangle@fangle-PC",[[1,1388,"了。"]],[1388,1388],[1390,1390]]],[1526543438546,["fangle@fangle-PC",[[1,1393,"\n"]],[1390,1390],[1391,1391]]],[1526543468625,["fangle@fangle-PC",[[1,1394,"\n"]],[1391,1391],[1392,1392]]],[1526543478196,["fangle@fangle-PC",[[1,1392,"- 手动加共享锁语句\n`SELECT...FROM...IN SHARE MODE`\n- 手动加排他锁语句\n`SELECT...FROM...FOR UPDATR`\n"]],[1392,1392],[1475,1475]]],[1526543536557,["fangle@fangle-PC",[[1,1476,"对于一致性非锁定读"]],[1476,1476],[1485,1485]]],[1526543555174,["fangle@fangle-PC",[[1,1485,"，即使读取的行已经被加锁了。"]],[1485,1485],[1499,1499]]],[1526543557691,["fangle@fangle-PC",[[-1,1498,"。"]],[1499,1499],[1498,1498]]],[1526543573830,["fangle@fangle-PC",[[1,1498,"，也是可以读取的。也就是说手动加锁只是为了"]],[1498,1498],[1519,1519]]],[1526543585990,["fangle@fangle-PC",[[-1,1507,"也就是说手动加锁只是为了"]],[1519,1519],[1507,1507]]],[1526543592029,["fangle@fangle-PC",[[1,1507,"另外当"]],[1507,1507],[1510,1510]]],[1526543777319,["fangle@fangle-PC",[[1,1712,"\n\n"]],[1712,1712],[1713,1713]]],[1526543779002,["fangle@fangle-PC",[[-1,1713,"\n"],[1,1714,"【】"]],[1713,1713],[1715,1715]]],[1526543779478,["fangle@fangle-PC",[[-1,1714,"】"]],[1715,1715],[1714,1714]]],[1526543779665,["fangle@fangle-PC",[[-1,1713,"【"],[1,1714,"\n"]],[1714,1714],[1713,1713]]],[1526543781403,["fangle@fangle-PC",[[-1,1713,"\n"],[1,1714,"[]()"]],[1713,1713],[1717,1717]]],[1526543789805,["fangle@fangle-PC",[[1,1716,"https://blog.csdn.net/cug_jiang126com/article/details/50544728"]],[1716,1716],[1778,1778]]],[1526543798078,["fangle@fangle-PC",[[1,1714,"###### 深入理解SELECT ... LOCK IN SHARE MODE和SELECT ... FOR UPDATE"]],[1714,1714],[1776,1776]]],[1526543805143,["fangle@fangle-PC",[[-1,1714,"###### "]],[1714,1721],[1714,1714]]],[1526543810225,["fangle@fangle-PC",[[-1,1724," ... "],[1,1729,"/"]],[1724,1729],[1725,1725]]],[1526543816928,["fangle@fangle-PC",[[-1,1750," ..."],[1,1754,"/"]],[1750,1754],[1751,1751]]],[1526543841595,["fangle@fangle-PC",[[-1,1509,"当"]],[1510,1510],[1509,1509]]],[1526543842302,["fangle@fangle-PC",[[1,1509,"sho"]],[1509,1509],[1512,1512]]],[1526543842998,["fangle@fangle-PC",[[-1,1509,"sho"]],[1512,1512],[1509,1509]]],[1526543859335,["fangle@fangle-PC",[[1,1509,"手动加锁语句必须在事务中使用"]],[1509,1509],[1523,1523]]],[1526543862138,["fangle@fangle-PC",[[1,1507,"\n"]],[1507,1507],[1508,1508]]],[1526543882353,["fangle@fangle-PC",[[1,1524,"，事务提交后，锁也就释放了。"]],[1524,1524],[1538,1538]]],[1526543954069,["fangle@fangle-PC",[[1,1540,"\n"]],[1539,1539],[1540,1540]]],[1526543954250,["fangle@fangle-PC",[[1,1541,"\n"]],[1540,1540],[1541,1541]]],[1526543956629,["fangle@fangle-PC",[[1,1541,"###"]],[1541,1541],[1544,1544]]],[1526543958741,["fangle@fangle-PC",[[1,1544," 参考"]],[1544,1544],[1547,1547]]],[1526543965188,["fangle@fangle-PC",[[1,1548,"\n"]],[1547,1547],[1548,1548]]],[1526543967130,["fangle@fangle-PC",[[1,1548,"【】"]],[1548,1548],[1550,1550]]],[1526543967710,["fangle@fangle-PC",[[-1,1548,"【】"]],[1550,1550],[1548,1548]]],[1526544016535,["fangle@fangle-PC",[[1,1548,"[]（）"]],[1548,1548],[1552,1552]]],[1526544017783,["fangle@fangle-PC",[[-1,1550,"（）"]],[1552,1552],[1550,1550]]],[1526544018643,["fangle@fangle-PC",[[1,1550,"()"]],[1550,1550],[1552,1552]]],[1526544019933,["fangle@fangle-PC",[[1,1551,"https://baike.baidu.com/item/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95%EF%BC%9AInnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/8118300"]],[1551,1551],[1680,1680]]],[1526544026671,["fangle@fangle-PC",[[1,1549,"Mysql"]],[1549,1549],[1554,1554]]],[1526544051347,["fangle@fangle-PC",[[1,1549,"《"],[-1,1551,"sql"],[1,1554,"SQL技术内幕：InnoDB存储引擎》"]],[1549,1554],[1571,1571]]],[1526544068771,["fangle@fangle-PC",[[1,1541,"\n"]],[1539,1539],[1540,1540]]],[1526544072357,["fangle@fangle-PC",[[1,1540,"### zi"]],[1540,1540],[1546,1546]]],[1526544073261,["fangle@fangle-PC",[[-1,1544,"zi"]],[1546,1546],[1544,1544]]],[1526544073801,["fangle@fangle-PC",[[1,1544,"zh"]],[1544,1544],[1546,1546]]],[1526544074454,["fangle@fangle-PC",[[-1,1544,"zh"]],[1546,1546],[1544,1544]]],[1526544075052,["fangle@fangle-PC",[[1,1544,"zi"]],[1544,1544],[1546,1546]]],[1526544075743,["fangle@fangle-PC",[[-1,1544,"zi"]],[1546,1546],[1544,1544]]],[1526544081848,["fangle@fangle-PC",[[1,1544,"自增长和锁"]],[1544,1544],[1549,1549]]],[1526544082255,["fangle@fangle-PC",[[1,1551,"\n"]],[1549,1549],[1550,1550]]],[1526544294505,["fangle@fangle-PC",[[1,1552,"\n"]],[1550,1550],[1551,1551]]],[1526544300327,["fangle@fangle-PC",[[1,1551,"### 锁的问题"]],[1551,1551],[1559,1559]]],[1526544300809,["fangle@fangle-PC",[[1,1561,"\n"]],[1559,1559],[1560,1560]]],[1526544312959,["fangle@fangle-PC",[[1,1560,"通过锁可以实现事物的"]],[1560,1560],[1570,1570]]],[1526544314003,["fangle@fangle-PC",[[-1,1568,"物的"]],[1570,1570],[1568,1568]]],[1526544316158,["fangle@fangle-PC",[[1,1568,"务的隔离"]],[1568,1568],[1572,1572]]],[1526544322118,["fangle@fangle-PC",[[1,1572,"性问题，但是"]],[1572,1572],[1578,1578]]],[1526544325734,["fangle@fangle-PC",[[-1,1576,"但是"]],[1578,1578],[1576,1576]]],[1526544354819,["fangle@fangle-PC",[[1,1576,"使事务可以并发地工作。锁提高了并发，但是缺"]],[1576,1576],[1597,1597]]],[1526544355278,["fangle@fangle-PC",[[-1,1596,"缺"]],[1597,1597],[1596,1596]]],[1526544359994,["fangle@fangle-PC",[[1,1596,"却带了"]],[1596,1596],[1599,1599]]],[1526544360748,["fangle@fangle-PC",[[-1,1598,"了"]],[1599,1599],[1598,1598]]],[1526544362892,["fangle@fangle-PC",[[1,1598,"来三"]],[1598,1598],[1600,1600]]],[1526544367543,["fangle@fangle-PC",[[-1,1599,"三"]],[1600,1600],[1599,1599]]],[1526544371081,["fangle@fangle-PC",[[1,1599,"3种问题"]],[1599,1599],[1603,1603]]],[1526544371903,["fangle@fangle-PC",[[1,1605,"\n"]],[1603,1603],[1604,1604]]],[1526544375177,["fangle@fangle-PC",[[1,1604,"- dius"]],[1604,1604],[1610,1610]]],[1526544376243,["fangle@fangle-PC",[[-1,1606,"dius"]],[1610,1610],[1606,1606]]],[1526544381149,["fangle@fangle-PC",[[1,1606,"丢失更新"]],[1606,1606],[1610,1610]]],[1526544381473,["fangle@fangle-PC",[[1,1612,"\n"]],[1610,1610],[1611,1611]]],[1526544435598,["fangle@fangle-PC",[[1,1611,"- 脏读"]],[1611,1611],[1615,1615]]],[1526544435951,["fangle@fangle-PC",[[1,1617,"\n"]],[1615,1615],[1616,1616]]],[1526544436595,["fangle@fangle-PC",[[1,1616,"-"]],[1616,1616],[1617,1617]]],[1526544444317,["fangle@fangle-PC",[[1,1617," 不可重复读"]],[1617,1617],[1623,1623]]],[1526544589236,["fangle@fangle-PC",[[1,1625,"\n"]],[1623,1623],[1624,1624]]],[1526544589522,["fangle@fangle-PC",[[1,1626,"\n"]],[1624,1624],[1625,1625]]],[1526544590899,["fangle@fangle-PC",[[1,1625,"####"]],[1625,1625],[1629,1629]]],[1526544591867,["fangle@fangle-PC",[[-1,1627,"##"]],[1629,1629],[1627,1627]]],[1526544592225,["fangle@fangle-PC",[[1,1627," "]],[1627,1627],[1628,1628]]],[1526544593719,["fangle@fangle-PC",[[-1,1627," "]],[1628,1628],[1627,1627]]],[1526544596921,["fangle@fangle-PC",[[1,1627,"# 阻塞"]],[1627,1627],[1631,1631]]],[1526544597719,["fangle@fangle-PC",[[1,1633,"\n"]],[1631,1631],[1632,1632]]],[1526544603875,["fangle@fangle-PC",[[1,1632,"### 锁的算法"]],[1632,1632],[1640,1640]]],[1526544604656,["fangle@fangle-PC",[[1,1642,"\n"]],[1640,1640],[1641,1641]]],[1526544630447,["fangle@fangle-PC",[[1,1632,"\n"]],[1631,1631],[1632,1632]]],[1526544633646,["fangle@fangle-PC",[[1,1632,"### si"]],[1632,1632],[1638,1638]]],[1526544634489,["fangle@fangle-PC",[[-1,1636,"si"]],[1638,1638],[1636,1636]]],[1526544637531,["fangle@fangle-PC",[[1,1636,"死锁"]],[1636,1636],[1638,1638]]],[1526544640688,["fangle@fangle-PC",[[1,1648,"###"]],[1648,1648],[1651,1651]]],[1526544645687,["fangle@fangle-PC",[[-1,1648,"###"]],[1651,1651],[1648,1648]]],[1526544646004,["fangle@fangle-PC",[[-1,1649,"\n"]],[1648,1648],[1647,1647]]],[1526544647240,["fangle@fangle-PC",[[1,1639,"\n"]],[1638,1638],[1639,1639]]],[1526544653309,["fangle@fangle-PC",[[1,1649,"### 锁升级"]],[1649,1649],[1656,1656]]],[1526544680595,["fangle@fangle-PC",[[1,1657,"\n"]],[1656,1656],[1657,1657]]],[1526544694167,["fangle@fangle-PC",[[1,1657,"Innodb存储引擎不存在锁设计"]],[1657,1657],[1673,1673]]],[1526544694805,["fangle@fangle-PC",[[-1,1671,"设计"]],[1673,1673],[1671,1671]]],[1526544699952,["fangle@fangle-PC",[[1,1671,"升级的问题，"]],[1671,1671],[1677,1677]]],[1526544706313,["fangle@fangle-PC",[[-1,1676,"，"]],[1677,1677],[1676,1676]]],[1526544733777,["fangle@fangle-PC",[[1,1676,"。在Innodb中一个锁的开销与1000000个锁是一样的"]],[1676,1676],[1705,1705]]],[1526544742000,["fangle@fangle-PC",[[1,1705,"，都没有开销。"]],[1705,1705],[1712,1712]]],[1526544743576,["fangle@fangle-PC",[[1,1713,"\n"]],[1712,1712],[1713,1713]]],[1526544850089,["fangle@fangle-PC",[[1,1649,"\n"]],[1648,1648],[1649,1649]]],[1526544855895,["fangle@fangle-PC",[[1,1649,"Innodb中有"]],[1649,1649],[1657,1657]]],[1526544857704,["fangle@fangle-PC",[[1,1657,"三种"]],[1657,1657],[1659,1659]]],[1526544863296,["fangle@fangle-PC",[[-1,1656,"有三种"]],[1659,1659],[1656,1656]]],[1526544884668,["fangle@fangle-PC",[[1,1656,"存储引擎有三种行锁的算法设计"]],[1656,1656],[1670,1670]]],[1526544890443,["fangle@fangle-PC",[[-1,1663,"行锁"]],[1663,1665],[1663,1663]]],[1526544892012,["fangle@fangle-PC",[[1,1660,"行锁"]],[1660,1660],[1662,1662]]],[1526544894629,["fangle@fangle-PC",[[-1,1665,"的"]],[1665,1666],[1665,1665]]],[1526544899773,["fangle@fangle-PC",[[1,1669,"“"]],[1669,1669],[1670,1670]]],[1526544900430,["fangle@fangle-PC",[[-1,1669,"“"]],[1670,1670],[1669,1669]]],[1526544901081,["fangle@fangle-PC",[[1,1669,"："]],[1669,1669],[1670,1670]]],[1526544901288,["fangle@fangle-PC",[[1,1671,"\n"]],[1670,1670],[1671,1671]]],[1526544914955,["fangle@fangle-PC",[[1,1671,"- Record "]],[1671,1671],[1680,1680]]],[1526544920080,["fangle@fangle-PC",[[1,1680,"Lock"]],[1680,1680],[1684,1684]]],[1526544922026,["fangle@fangle-PC",[[1,1685,"\n"]],[1684,1684],[1685,1685]]],[1526544933554,["fangle@fangle-PC",[[1,1685,"单行记录上的锁"]],[1685,1685],[1692,1692]]],[1526544933829,["fangle@fangle-PC",[[1,1693,"\n"]],[1692,1692],[1693,1693]]],[1526544942886,["fangle@fangle-PC",[[1,1693,"- Gap Lock"]],[1693,1693],[1703,1703]]],[1526544943293,["fangle@fangle-PC",[[1,1704,"\n"]],[1703,1703],[1704,1704]]],[1526544957060,["fangle@fangle-PC",[[1,1704,"间隙锁，锁定一个范围，当"]],[1704,1704],[1716,1716]]],[1526544957384,["fangle@fangle-PC",[[-1,1715,"当"]],[1716,1716],[1715,1715]]],[1526544965403,["fangle@fangle-PC",[[1,1715,"但不包括记录本上"]],[1715,1715],[1723,1723]]],[1526544966179,["fangle@fangle-PC",[[-1,1722,"上"]],[1723,1723],[1722,1722]]],[1526544967214,["fangle@fangle-PC",[[1,1722,"省"]],[1722,1722],[1723,1723]]],[1526544967685,["fangle@fangle-PC",[[-1,1722,"省"]],[1723,1723],[1722,1722]]],[1526544969146,["fangle@fangle-PC",[[1,1722,"身"]],[1722,1722],[1723,1723]]],[1526544969468,["fangle@fangle-PC",[[1,1724,"\n"]],[1723,1723],[1724,1724]]],[1526544991538,["fangle@fangle-PC",[[1,1724,"- Next-Key Lock"]],[1724,1724],[1739,1739]]],[1526544998898,["fangle@fangle-PC",[[1,1740,"\n"]],[1739,1739],[1740,1740]]],[1526545080801,["fangle@fangle-PC",[[1,1740,"Record Lock + Gap Lock ,suo"]],[1740,1740],[1767,1767]]],[1526545081457,["fangle@fangle-PC",[[-1,1764,"suo"]],[1767,1767],[1764,1764]]],[1526545093524,["fangle@fangle-PC",[[1,1764,"锁定一个范围，包括记录本身"]],[1764,1764],[1777,1777]]],[1526545128353,["fangle@fangle-PC",[[1,1778,"\n"]],[1777,1777],[1778,1778]]],[1526545226984,["fangle@fangle-PC",[[-1,1625,"### 阻塞\n### 死锁"]],[1625,1638],[1625,1625]]],[1526545228087,["fangle@fangle-PC",[[-1,1626,"\n"]],[1625,1625],[1624,1624]]],[1526545230368,["fangle@fangle-PC",[[-1,1625,"\n"]],[1625,1625],[1624,1624]]],[1526545233464,["fangle@fangle-PC",[[1,1551,"\n"]],[1549,1549],[1550,1550]]],[1526545233630,["fangle@fangle-PC",[[1,1552,"\n"]],[1550,1550],[1551,1551]]],[1526545234810,["fangle@fangle-PC",[[1,1551,"### 阻塞\n### 死锁"]],[1551,1551],[1564,1564]]],[1526545694009,["fangle@fangle-PC",[[1,2322,"\n\n"]],[2322,2322],[2323,2323]]],[1526545695816,["fangle@fangle-PC",[[-1,2323,"\n"],[1,2324,"【"]],[2323,2323],[2324,2324]]],[1526545696446,["fangle@fangle-PC",[[-1,2323,"【"],[1,2324,"\n"]],[2324,2324],[2323,2323]]],[1526545698261,["fangle@fangle-PC",[[-1,2323,"\n"],[1,2324,"[]()"]],[2323,2323],[2327,2327]]],[1526545699863,["fangle@fangle-PC",[[1,2326,"http://hedengcheng.com/?p=771"]],[2326,2326],[2355,2355]]],[1526545715363,["fangle@fangle-PC",[[1,2324,"# [何登成的技术博客](http://hedengcheng.com/)"]],[2324,2324],[2361,2361]]],[1526545718412,["fangle@fangle-PC",[[-1,2324,"# ["]],[2324,2327],[2324,2324]]],[1526545730235,["fangle@fangle-PC",[[-1,2357,")](http://hedengcheng.com/"]],[2332,2358],[2332,2332]]],[1526545740362,["fangle@fangle-PC",[[1,2332,"## MySQL 加锁处理分析"]],[2332,2332],[2347,2347]]],[1526545743617,["fangle@fangle-PC",[[-1,2332,"## "]],[2332,2335],[2332,2332]]],[1526545745551,["fangle@fangle-PC",[[1,2332,":"]],[2332,2332],[2333,2333]]],[1526545752261,["fangle@fangle-PC",[[-1,2332,":"]],[2333,2333],[2332,2332]]],[1526545753967,["fangle@fangle-PC",[[1,2332,"--"]],[2332,2332],[2334,2334]]],[1526546273487,["fangle@fangle-PC",[[-1,1558,"### 死锁"]],[1558,1564],[1558,1558]]],[1526546275010,["fangle@fangle-PC",[[-1,1559,"\n"]],[1558,1558],[1557,1557]]],[1526546279495,["fangle@fangle-PC",[[1,1558,"### 死锁"]],[1558,1558],[1564,1564]]],[1526546280109,["fangle@fangle-PC",[[1,1565,"\n"]],[1564,1564],[1565,1565]]],[1526546283998,["fangle@fangle-PC",[[1,1558,"\n"]],[1557,1557],[1558,1558]]],[1526546307292,["fangle@fangle-PC",[[1,1557,"yu"]],[1557,1557],[1559,1559]]],[1526546308189,["fangle@fangle-PC",[[-1,1557,"yu"]],[1559,1559],[1557,1557]]],[1526546314709,["fangle@fangle-PC",[[1,1557,"与死锁"]],[1557,1557],[1560,1560]]],[1526546347131,["fangle@fangle-PC",[[-1,1557,"与死锁"]],[1560,1560],[1557,1557]]],[1526546416278,["fangle@fangle-PC",[[1,1572,"带来"]],[1572,1572],[1574,1574]]],[1526546447140,["fangle@fangle-PC",[[-1,1540,"### 自增长和锁\n\n### 阻塞\n\n### 死锁"]],[1540,1565],[1540,1540]]],[1526546448605,["fangle@fangle-PC",[[-1,1541,"\n"]],[1540,1540],[1539,1539]]],[1526546450180,["fangle@fangle-PC",[[-1,1540,"\n"]],[1540,1540],[1539,1539]]],[1526546459765,["fangle@fangle-PC",[[1,1755,"\n"]],[1753,1753],[1754,1754]]],[1526546459941,["fangle@fangle-PC",[[1,1756,"\n"]],[1754,1754],[1755,1755]]],[1526546460855,["fangle@fangle-PC",[[1,1755,"### 自增长和锁\n\n### 阻塞\n\n### 死锁"]],[1755,1755],[1780,1780]]],[1526546465158,["fangle@fangle-PC",[[1,1785,"#"]],[1785,1785],[1786,1786]]],[1526546467503,["fangle@fangle-PC",[[1,1755,"\n"]],[1754,1754],[1755,1755]]],[1526546468666,["fangle@fangle-PC",[[1,1755,"####"]],[1755,1755],[1759,1759]]],[1526546469215,["fangle@fangle-PC",[[-1,1758,"#"]],[1759,1759],[1758,1758]]],[1526546472881,["fangle@fangle-PC",[[1,1758," 其他相关问题"]],[1758,1758],[1765,1765]]],[1526546482730,["fangle@fangle-PC",[[1,1788,"#"]],[1788,1788],[1789,1789]]],[1526546484484,["fangle@fangle-PC",[[1,1780,"#"]],[1780,1780],[1781,1781]]],[1526546487693,["fangle@fangle-PC",[[1,1769,"#"]],[1769,1769],[1770,1770]]],[1526546504621,["fangle@fangle-PC",[[1,1777,"#### 外键和锁"]],[1777,1777],[1786,1786]]],[1526546512967,["fangle@fangle-PC",[[1,1787,"\n"]],[1786,1786],[1787,1787]]],[1526546528199,["fangle@fangle-PC",[[1,1787,"在Innodb中"]],[1787,1787],[1795,1795]]],[1526546530073,["fangle@fangle-PC",[[-1,1794,"中"]],[1795,1795],[1794,1794]]],[1526546533820,["fangle@fangle-PC",[[1,1794,"存储引擎中，"]],[1794,1794],[1800,1800]]],[1526546596499,["fangle@fangle-PC",[[1,1800,"对于一个外键列，如果没有显示地对这个列加索引，Innodb引擎会自动对其加一个索引。因为这样可以避免表锁"]],[1800,1800],[1852,1852]]],[1526546597354,["fangle@fangle-PC",[[1,1852,"。"]],[1852,1852],[1853,1853]]],[1526546601286,["fangle@fangle-PC",[[1,1777,"\n"]],[1777,1777],[1778,1778]]],[1526546603101,["fangle@fangle-PC",[[1,1855,"\n"]],[1855,1855],[1856,1856]]],[1526546640073,["fangle@fangle-PC",[[1,1777,"在"]],[1777,1777],[1778,1778]]],[1526546641497,["fangle@fangle-PC",[[1,1779,"\n"]],[1778,1778],[1779,1779]]],[1526546642814,["fangle@fangle-PC",[[1,1766,"\n"]],[1766,1766],[1767,1767]]],[1526546650082,["fangle@fangle-PC",[[1,1779,"Innodb的"]],[1779,1779],[1786,1786]]],[1526546651358,["fangle@fangle-PC",[[-1,1785,"的"]],[1786,1786],[1785,1785]]],[1526546654219,["fangle@fangle-PC",[[1,1785,"存储引擎中"]],[1785,1785],[1790,1790]]],[1526546655644,["fangle@fangle-PC",[[-1,1789,"中"]],[1790,1790],[1789,1789]]],[1526546656446,["fangle@fangle-PC",[[1,1789,"的"]],[1789,1789],[1790,1790]]],[1526546659536,["fangle@fangle-PC",[[1,1790,"内存结果"]],[1790,1790],[1794,1794]]],[1526546659937,["fangle@fangle-PC",[[-1,1793,"果"]],[1794,1794],[1793,1793]]],[1526546674508,["fangle@fangle-PC",[[1,1793,"构中，对每个含自增长的"]],[1793,1793],[1804,1804]]],[1526546676934,["fangle@fangle-PC",[[-1,1803,"的"]],[1804,1804],[1803,1803]]],[1526546709227,["fangle@fangle-PC",[[1,1803,"值的表都有一个自增长计数器。当对含有自增长计数去"]],[1803,1803],[1827,1827]]],[1526546709848,["fangle@fangle-PC",[[-1,1826,"去"]],[1827,1827],[1826,1826]]],[1526546716193,["fangle@fangle-PC",[[1,1826,"器的表进行插入操作时"]],[1826,1826],[1836,1836]]],[1526546732950,["fangle@fangle-PC",[[1,1836,"，这个计数器会被初始化，执行``"]],[1836,1836],[1852,1852]]],[1526546736908,["fangle@fangle-PC",[[1,1851,"SELET"]],[1851,1851],[1856,1856]]],[1526546737631,["fangle@fangle-PC",[[-1,1855,"T"]],[1856,1856],[1855,1855]]],[1526546740417,["fangle@fangle-PC",[[1,1855,"CTMAX"]],[1855,1855],[1860,1860]]],[1526546741445,["fangle@fangle-PC",[[-1,1857,"MAX"]],[1860,1860],[1857,1857]]],[1526546746586,["fangle@fangle-PC",[[1,1857," MAX()"]],[1857,1857],[1863,1863]]],[1526546748643,["fangle@fangle-PC",[[-1,1862,")"],[1,1863,"AU"]],[1862,1863],[1864,1864]]],[1526546751089,["fangle@fangle-PC",[[-1,1862,"AU"]],[1864,1864],[1862,1862]]],[1526546752613,["fangle@fangle-PC",[[1,1862,"autho"]],[1862,1862],[1867,1867]]],[1526546753357,["fangle@fangle-PC",[[-1,1865,"ho"]],[1867,1867],[1865,1865]]],[1526546761544,["fangle@fangle-PC",[[1,1865,"o_inc_col_"]],[1865,1865],[1875,1875]]],[1526546762074,["fangle@fangle-PC",[[-1,1874,"_"]],[1875,1875],[1874,1874]]],[1526546773986,["fangle@fangle-PC",[[1,1874,") FROM t FOR UPDATE"]],[1874,1874],[1893,1893]]],[1526546837605,["fangle@fangle-PC",[[1,1896,"\n"]],[1894,1894],[1895,1895]]],[1526546838671,["fangle@fangle-PC",[[1,1895,"char"]],[1895,1895],[1899,1899]]],[1526546839735,["fangle@fangle-PC",[[-1,1895,"char"]],[1899,1899],[1895,1895]]],[1526546876669,["fangle@fangle-PC",[[1,1895,"插入操作会根据这个计数器值加1赋予自增长列，这种实现方式叫做``"]],[1895,1895],[1927,1927]]],[1526546879373,["fangle@fangle-PC",[[1,1926,"AUTHO"]],[1926,1926],[1931,1931]]],[1526546880240,["fangle@fangle-PC",[[-1,1928,"THO"]],[1931,1931],[1928,1928]]],[1526546889970,["fangle@fangle-PC",[[1,1928,"TO-INC Locking"]],[1928,1928],[1942,1942]]],[1526546896211,["fangle@fangle-PC",[[1,1943,"，这种锁"]],[1943,1943],[1947,1947]]],[1526546901474,["fangle@fangle-PC",[[1,1947,"其实是特殊的表示"]],[1947,1947],[1955,1955]]],[1526546901823,["fangle@fangle-PC",[[-1,1954,"示"]],[1955,1955],[1954,1954]]],[1526546923415,["fangle@fangle-PC",[[1,1954,"锁机制，为了提高插入性能，锁不上"]],[1954,1954],[1970,1970]]],[1526546923816,["fangle@fangle-PC",[[-1,1969,"上"]],[1970,1970],[1969,1969]]],[1526546928687,["fangle@fangle-PC",[[1,1969,"是在一个事务中"]],[1969,1969],[1976,1976]]],[1526546931140,["fangle@fangle-PC",[[-1,1975,"中"]],[1976,1976],[1975,1975]]],[1526546951155,["fangle@fangle-PC",[[1,1975,"完成后才释放的，而是在完成对自增长的"]],[1975,1975],[1993,1993]]],[1526546954709,["fangle@fangle-PC",[[-1,1992,"的"]],[1993,1993],[1992,1992]]],[1526546956639,["fangle@fangle-PC",[[1,1992,"值插入"]],[1992,1992],[1995,1995]]],[1526546972174,["fangle@fangle-PC",[[1,1995,"的SQL语句执行后立即释放。"]],[1995,1995],[2009,2009]]],[1526546998234,["fangle@fangle-PC",[[1,2011,"\n"]],[2009,2009],[2010,2010]]],[1526547001911,["fangle@fangle-PC",[[1,2010,"当然这种"]],[2010,2010],[2014,2014]]],[1526547016324,["fangle@fangle-PC",[[-1,2012,"这种"]],[2014,2014],[2012,2012]]],[1526547017177,["fangle@fangle-PC",[[-1,2010,"当然"]],[2012,2012],[2010,2010]]],[1526547021930,["fangle@fangle-PC",[[1,2010,"从My说了"]],[2010,2010],[2015,2015]]],[1526547022667,["fangle@fangle-PC",[[-1,2013,"说了"]],[2015,2015],[2013,2013]]],[1526547050460,["fangle@fangle-PC",[[1,2013,"SQL5.1.22版本后，Innodb提供了一直"]],[2013,2013],[2037,2037]]],[1526547050906,["fangle@fangle-PC",[[-1,2036,"直"]],[2037,2037],[2036,2036]]],[1526547070615,["fangle@fangle-PC",[[1,2036,"种轻量级互斥量的自增长实现方式"]],[2036,2036],[2051,2051]]],[1526547073888,["fangle@fangle-PC",[[-1,2049,"方式"]],[2051,2051],[2049,2049]]],[1526547076235,["fangle@fangle-PC",[[1,2049,"机制来"]],[2049,2049],[2052,2052]]],[1526547092896,["fangle@fangle-PC",[[1,2052,"改善这种做法。"]],[2052,2052],[2059,2059]]],[1526547161276,["fangle@fangle-PC",[[1,2147,"因为不同锁直接"]],[2147,2147],[2154,2154]]],[1526547161798,["fangle@fangle-PC",[[-1,2152,"直接"]],[2154,2154],[2152,2152]]],[1526547196146,["fangle@fangle-PC",[[1,2152,"之间的兼容性问题，有些时候，一个事务中的锁需要等待另一个事务中的"]],[2152,2152],[2184,2184]]],[1526547225099,["fangle@fangle-PC",[[1,2184,"锁释放它占用的资源。这种情况就叫做阻塞。"]],[2184,2184],[2204,2204]]],[1526547225825,["fangle@fangle-PC",[[1,2205,"\n"]],[2204,2204],[2205,2205]]],[1526547235668,["fangle@fangle-PC",[[-1,2196,"情况"]],[2198,2198],[2196,2196]]],[1526547240471,["fangle@fangle-PC",[[1,2196,"等待的过程"]],[2196,2196],[2201,2201]]],[1526547254509,["fangle@fangle-PC",[[1,2208,"在Innodb中"]],[2208,2208],[2216,2216]]],[1526547263111,["fangle@fangle-PC",[[-1,2215,"中"]],[2216,2216],[2215,2215]]],[1526547275772,["fangle@fangle-PC",[[1,2215,"存储引擎中，参数innodb_lock"]],[2215,2215],[2234,2234]]],[1526547282488,["fangle@fangle-PC",[[1,2221,"shi"]],[2221,2221],[2224,2224]]],[1526547283216,["fangle@fangle-PC",[[-1,2221,"shi"]],[2224,2224],[2221,2221]]],[1526547284226,["fangle@fangle-PC",[[1,2221,"使用"]],[2221,2221],[2223,2223]]],[1526547287041,["fangle@fangle-PC",[[1,2225,"`"]],[2225,2225],[2226,2226]]],[1526547288621,["fangle@fangle-PC",[[1,2237,"`"]],[2237,2237],[2238,2238]]],[1526547290513,["fangle@fangle-PC",[[1,2237,"——"]],[2237,2237],[2239,2239]]],[1526547292110,["fangle@fangle-PC",[[-1,2237,"——"]],[2239,2239],[2237,2237]]],[1526547300201,["fangle@fangle-PC",[[1,2237,"_wait_timeout"]],[2237,2237],[2250,2250]]],[1526547311843,["fangle@fangle-PC",[[1,2251,"来控制等待时间()"]],[2251,2251],[2260,2260]]],[1526547315946,["fangle@fangle-PC",[[1,2259,"默认50"]],[2259,2259],[2263,2263]]],[1526547317071,["fangle@fangle-PC",[[1,2263,"秒"]],[2263,2263],[2264,2264]]],[1526547360974,["fangle@fangle-PC",[[1,2265,"，默认情况下，Innodb存储引擎不会回滚超时引发的错误异常。"]],[2265,2265],[2296,2296]]],[1526547361354,["fangle@fangle-PC",[[1,2297,"\n"]],[2296,2296],[2297,2297]]],[1526547383617,["fangle@fangle-PC",[[-1,2265,"，"]],[2266,2266],[2265,2265]]],[1526547384353,["fangle@fangle-PC",[[1,2265,"。"]],[2265,2265],[2266,2266]]],[1526547403390,["fangle@fangle-PC",[[1,2296,"除非设置``"]],[2296,2296],[2302,2302]]],[1526547421304,["fangle@fangle-PC",[[1,2301,"innodb_rollback_on_timeout"]],[2301,2301],[2327,2327]]],[1526547437689,["fangle@fangle-PC",[[1,2330,"\n"]],[2329,2329],[2330,2330]]],[1526547438390,["fangle@fangle-PC",[[-1,2330,"\n"]],[2330,2330],[2329,2329]]],[1526547439239,["fangle@fangle-PC",[[1,2329,"zhi"]],[2329,2329],[2332,2332]]],[1526547440418,["fangle@fangle-PC",[[-1,2329,"zhi"]],[2332,2332],[2329,2329]]],[1526547487644,["fangle@fangle-PC",[[1,2329,"值得一提的是，Innodb存储引擎在大部分情况下都不会对异常进行回滚，死锁除外。"]],[2329,2329],[2369,2369]]],[1526547494482,["fangle@fangle-PC",[[1,2379,"\n"]],[2378,2378],[2379,2379]]],[1526547496120,["fangle@fangle-PC",[[1,2370,"\n"]],[2370,2370],[2371,2371]]],[1526547552402,["fangle@fangle-PC",[[1,2379,"死锁只发生在并发的情况，程序如果是串行的，那么是不会发生死锁的。"]],[2379,2379],[2411,2411]]],[1526547597605,["fangle@fangle-PC",[[1,2411,"死锁产生的原因是会话之间的资源在互相等待。"]],[2411,2411],[2432,2432]]],[1526547598677,["fangle@fangle-PC",[[1,2434,"\n"]],[2432,2432],[2433,2433]]],[1526547602947,["fangle@fangle-PC",[[1,2433,"大多数的"]],[2433,2433],[2437,2437]]],[1526547628093,["fangle@fangle-PC",[[1,2125,"，并且认为"]],[2125,2125],[2130,2130]]],[1526547628695,["fangle@fangle-PC",[[-1,2128,"认为"]],[2130,2130],[2128,2128]]],[1526547650234,["fangle@fangle-PC",[[1,2128,"人为删除这个列是不允许的"]],[2128,2128],[2140,2140]]],[1526547657411,["fangle@fangle-PC",[[-1,2125,"，并且人为删除这个列是不允许的"]],[2140,2140],[2125,2125]]],[1526547675644,["fangle@fangle-PC",[[1,2437,"死锁，Innodb引擎"]],[2437,2437],[2448,2448]]],[1526547693897,["fangle@fangle-PC",[[1,2448,"可以自己侦测到，不需要任务"]],[2448,2448],[2461,2461]]],[1526547694534,["fangle@fangle-PC",[[-1,2459,"任务"]],[2461,2461],[2459,2459]]],[1526547730907,["fangle@fangle-PC",[[1,2459,"人为干预。发现死锁后，Innodb会发生"]],[2459,2459],[2479,2479]]],[1526547738324,["fangle@fangle-PC",[[-1,2477,"发生"]],[2479,2479],[2477,2477]]],[1526547790505,["fangle@fangle-PC",[[1,2477,"马上回滚一个事务，这样另一个等待中的事务就能得到被回滚事务的资源，从而解决死锁。"]],[2477,2477],[2517,2517]]],[1526547790736,["fangle@fangle-PC",[[1,2519,"\n"]],[2517,2517],[2518,2518]]],[1526547837340,["fangle@fangle-PC",[[1,2518,"Innodb引擎会自动为外键加索引，不存在外键不存在索引照常"]],[2518,2518],[2548,2548]]],[1526547837872,["fangle@fangle-PC",[[-1,2547,"常"]],[2548,2548],[2547,2547]]],[1526547840662,["fangle@fangle-PC",[[1,2547,"成的"]],[2547,2547],[2549,2549]]],[1526547841357,["fangle@fangle-PC",[[-1,2546,"照成的"]],[2549,2549],[2546,2546]]],[1526547850874,["fangle@fangle-PC",[[1,2546,"造成的死锁问题。"]],[2546,2546],[2554,2554]]],[1526547864816,["fangle@fangle-PC",[[-1,14,"> innodb存储引擎不需要锁升级，因为一个锁和多个锁的开销是相同的。"]],[14,50],[14,14]]],[1526548056370,["fangle@fangle-PC",[[1,2592,"文章"]],[2592,2592],[2594,2594]]],[1526548060523,["fangle@fangle-PC",[[1,2595,"- "]],[2595,2595],[2597,2597]]]]]]}